{"options":{"validator":{"$jsonSchema":{"bsonType":"object","required":["user_hash","session_id","role","text","ts"],"properties":{"user_hash":{"bsonType":"string"},"session_id":{"bsonType":"string"},"role":{"enum":["system","user","assistant","risk"]},"text":{"bsonType":"string"},"sentiment":{"bsonType":["string","null"]},"risk_score":{"bsonType":["double","null"],"minimum":{"$numberInt":"0"}},"ts":{"bsonType":"date"},"expireAt":{"bsonType":["date","null"]},"_archived_at":{"bsonType":["date","null"]}}}},"validationLevel":"moderate","validationAction":"error"},"indexes":[{"v":{"$numberInt":"2"},"key":{"_id":{"$numberInt":"1"}},"name":"_id_"},{"v":{"$numberInt":"2"},"key":{"expireAt":{"$numberInt":"1"}},"name":"expireAt_1","expireAfterSeconds":{"$numberInt":"0"}},{"v":{"$numberInt":"2"},"key":{"user_hash":{"$numberInt":"1"},"session_id":{"$numberInt":"1"},"ts":{"$numberInt":"-1"}},"name":"user_hash_1_session_id_1_ts_-1"},{"v":{"$numberInt":"2"},"key":{"ts":{"$numberInt":"-1"}},"name":"ts_-1"},{"v":{"$numberInt":"2"},"key":{"risk_score":{"$numberInt":"-1"}},"name":"risk_score_-1"}],"uuid":"4959dcc8222b42a095a1a440fa0ebb43","collectionName":"messages","type":"collection"}